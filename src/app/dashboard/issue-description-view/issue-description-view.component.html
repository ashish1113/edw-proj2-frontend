<div class="container-fluid">
  <div class="displayNoneMobile">
    <div class="row">
      <div class="col-3" style="height: 100vh; background-color: rgb(5, 5, 128);">
        <a class="text-light p-0 mr-2" style="text-align: center ;font-size:1.5em "
          [routerLink]="['/issue-description-view']"><b>Issue Tracker Tool</b></a>

        <hr class="new2">

        <div class="list-group " style="margin-bottom: 50px">

          <div class="accordion" id="accordionExample">
            <div class="card">

              <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne"
                aria-expanded="true" aria-controls="collapseOne" style="text-align: center;font-size: 1.25em ;text-transform:uppercase">
                {{fullName}}<i class="fa fa-user-circle" aria-hidden="true"></i>
              </button>

              <div id="collapseOne" class="collapse " aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="card-body">
                  <div class="list-group">
                    <button type="button" class="list-group-item list-group-item-action active"
                      style="text-align: center;font-size: 1.25em " *ngIf="socialFlag == 'false'" (click)=" logout()">
                      LogOut
                    </button>

                    <button type="button" class="list-group-item list-group-item-action active"
                      style="text-align: center;font-size: 1.25em " *ngIf="socialFlag == 'true'"
                      (click)=" socialLogout()">
                      LogOut
                    </button>

                  </div>
                </div>
              </div>
            </div>

            <div class="card mt-1">

              <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo"
                aria-expanded="false" aria-controls="collapseTwo" style="text-align: center;font-size: 1.25em ">
                Actions &nbsp;<i class="fa fa-caret-down" aria-hidden="true"></i>
              </button>

              <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                <div class="card-body">
                  <div class="list-group">
                    <button type="button" class="list-group-item list-group-item-action active"
                      style="text-align: center;font-size: 1.25em " [routerLink]="['/edit-issue']">
                      Edit&nbsp;<i class="fa fa-edit" style="font-size:24px"></i>
                    </button>
                   
                    <button type="button" class=" mt-1 list-group-item list-group-item-action active"
                      style="text-align: center;font-size: 1.25em " (click)="addWatcher()">
                      Watch&nbsp;<i class="fa fa-eye" aria-hidden="true"></i>
                    </button>

                  </div>
                </div>
              </div>
            </div>

          </div>
          <button class="btn mt-1 btn-link " type="button"
            style="text-align: center;background-color: white;font-size: 1.25em" [routerLink]="['/userDashboard']">
            Home
          </button>

        </div>
        <hr class="new2">

        <h5 class="ml-2" style="color: white;font-size: 1.5em">WatcherList:</h5>

        <ul class="list-group list-group1">

          <li class="list-group-item" *ngFor="let watcher of watcherList">{{watcher.watcherEmail}}</li>

        </ul>

      </div>

      <div class="col-9 content" style="font-size: 1em">
        <div class="row">
          <div class="col-9">
            <h3 class="mt-3"><b>Issue Description:</b></h3>
          </div>
          
        </div>

        <ul class="list-group ">

          <li class="list-group-item libg list-group-item-secondary" style="background-color: #F5EEF8">

            <div class="row  " style="height:10ovh">
              <div class="col-12 title " style=" position: relative; ">
                <div class="input-group ">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Title</span>
                  </div>
                  <input type="text" class="form-control" placeholder="Title" aria-label="Username"
                    aria-describedby="basic-addon1" [(ngModel)]="issueTitle" readonly>
                </div>
              </div>
            </div>

          </li>
          <li class="list-group-item libg list-group-item-secondary">
            <div class="row  " style="height: 100%">
              <div class="col-6 title " style=" position: relative; ">
                <div class="input-group ">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Status</span>
                  </div>
                  <input type="text" class="form-control" placeholder="Username" aria-label="Username"
                    aria-describedby="basic-addon1" [(ngModel)]="issueStatus" readonly>
                </div>
              </div>
              <div class="col-6 title " style=" position: relative; ">
                <div class="input-group ">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Date</span>
                  </div>
                  <input type="text" class="form-control" placeholder="Username" aria-label="Username"
                    aria-describedby="basic-addon1" [(ngModel)]="issueCreatedOn" readonly>
                </div>
              </div>
            </div>
          </li>
          
          <li class="list-group-item libg list-group-item-secondary">
            <div class="row">
              <div class="col-12">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text">Reporter Name & Email</span>
                  </div>
                  <input type="text" aria-label="Reporter name" [(ngModel)]=" issueReporterName" readonly
                    class="form-control">
                  <input type="text" aria-label="Reporter-Email" [(ngModel)]=" issueReporterEmail" readonly
                    class="form-control">
                </div>
              </div>
            </div>
          </li>
          
          <li class="list-group-item libg list-group-item-secondary">
            <div class="row">
              <div class="col-12">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text">Assignee Name & Email</span>
                  </div>
                  <input type="text" aria-label="Assignee name" [(ngModel)]=" issueAssigneeName" readonly
                    class="form-control">
                  <input type="text" aria-label="Assignee-Email " [(ngModel)]=" issueAssigneeEmail" readonly
                    class="form-control">
                </div>
              </div>
            </div>
          </li>
          
          <li class="list-group-item libg list-group-item-secondary ">


              Description :- &nbsp;  <div [innerHTML]="issueDescription"></div>
           
          </li>
          <li class="list-group-item libg list-group-item-secondary textarea">
            Attachments :- &nbsp;

            <button>
              <a href="http://192.168.1.82:3000/{{issueScreenShotPath}}" target="_blank"> image </a>
            </button>

          </li>

        </ul>

        <hr style="background-color: darkgrey">


        <div class="input-group">
          
          <textarea class="form-control" aria-label="With textarea" [(ngModel)]="comment"
            placeholder="Enter Comment here...."></textarea>
          <button class="btn btn-secondary " style="float:Right; background-color: #F5EEF8; color: rgb(19, 124, 245)"
            (click)="WriteComment()"><u>comment</u></button>
        </div>
        <button type="button" class="btn btn-link collapsed" data-toggle="modal" data-target="#exampleModal"
          (click)="getComment()">View All Comments<i class="fa fa-comments-o" aria-hidden="true"></i></button>
        
      </div>

    </div>

  </div>

  <div class="displayBlockMobile">
    <div class="col-sm-12 p-0">
      <nav class="navbar navbar-expand-md navbar-fixed  navbar-dark " style="background-color: rgb(5, 5, 128)">
        <a class="navbar-brand" style="font-size:1.5em; color: white"
          [routerLink]="['/issue-description-view']">Issue Tracker Tool</a>

        <button type="button" class="btn btn-light  " style="border-radius: 50px;" [routerLink]="['/userDashboard']"><i
          class="fa fa-home" aria-hidden="true"></i><span class="badge badge-light">Home</span></button>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <div class="profile" style="float:right">
                <h5 style="color: white; text-transform:uppercase">{{fullName}}</h5>
                <button style="width: 150px; margin-left: 0px" class="btn btn-outline-light"
                  *ngIf="socialFlag == 'false'" (click)=" logout()">LogOut</button>
                <button style="width: 150px; margin-left: 0px" class="btn btn-outline-light"
                  *ngIf="socialFlag == 'true'" (click)=" socialLogout()">LogOut</button>
              </div>
            </li>
          </ul>
        </div>
      </nav>
      <div class="card cursorPointer p-0 m-0">
        <div class="card-header m-0 ">
          <ul class="nav m-0 nav-tabs card-header-tabs text-dark " role="tablist" style="font-weight: bold">
            <li class="nav-item ">
              <a class="nav-link active " data-toggle="tab"  role="tab"  aria-selected="true" (click)="changeViewToDescription()">Issue-Description</a>
            </li>
            
            <li class="nav-item ">
              <div class="" id="accordionExample">
                <div class="">
                  <a class="nav-link nav-tabs collapsed  " data-toggle="collapse" data-target="#collapseTwo"
                    aria-expanded="false" aria-controls="collapseTwo"><span style="cursor: pointer">Actions &nbsp;<i
                      class="fa fa-caret-down" aria-hidden="true"></i></span></a>

                  <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                    <div class="card-body">
                      <div class="list-group">
                        <button type="button" class="list-group-item list-group-item-action active"
                          style="text-align: center;font-size: 1.25em " [routerLink]="['/edit-issue']">
                          Edit&nbsp;<i class="fa fa-edit" style="font-size:24px"></i>
                        </button>
                        <!-- <button type="button" class=" mt-1 list-group-item list-group-item-action active"
                          style="text-align: center;font-size: 1.25em ">
                          Delete&nbsp;<i class="fa fa-trash" aria-hidden="true"></i>
                        </button> -->
                        <button type="button" class=" mt-1 list-group-item list-group-item-action active"
                          style="text-align: center;font-size: 1.25em " (click)="addWatcher()">
                          Watch&nbsp;<i class="fa fa-eye" aria-hidden="true"></i>
                        </button>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link nav-tabs" (click)="changeViewToWatcher()">WatcherList&nbsp;<i class="fa fa-eye"
                aria-hidden="true"></i></a>
            </li>
          </ul>
        </div>

        <div class="card-body m-0 p-0">
          <div class="Description" *ngIf="descriptionToken == true">
            <ul class="list-group">
              &nbsp;
              <li class="list-group-item list-group-item-secondary">
                Title :- &nbsp; {{issueTitle}}
              </li>
              <li class="list-group-item list-group-item-secondary">
                Status :- &nbsp; {{issueStatus}}
              </li>
              <li class="list-group-item list-group-item-secondary">
                Date :- &nbsp; {{issueCreatedOn}}
              </li>
              <li class="list-group-item list-group-item-secondary">
                Reporter :- &nbsp; {{issueReporterName}}
              </li>
              <li class="list-group-item list-group-item-secondary">
                Reporter-Email :- &nbsp; {{issueReporterEmail}}
              </li>
              <li class="list-group-item list-group-item-secondary">
                Assignee :- &nbsp; {{issueAssigneeName}}
              </li>
              <li class="list-group-item list-group-item-secondary">
                Assignee-Email :- &nbsp; {{issueAssigneeEmail}}
              </li>
              <li class="list-group-item list-group-item-secondary ">
                Description :- &nbsp; <div [innerHTML]="issueDescription"></div>
              </li>
              <li class="list-group-item list-group-item-secondary textarea">
                Attachment :- &nbsp;
                <button>
                  <a href="http://192.168.1.82:3000/{{issueScreenShotPath}}" target="_blank"> image </a>
                </button>
              </li>
            </ul>

            <hr style="background-color: darkgrey">

            <div class="input-group"> 
              <textarea class="form-control" aria-label="With textarea" [(ngModel)]="comment"
                placeholder="Enter Comment here...."></textarea>
              <button class="btn btn-secoundry" style="float:Right" (click)="WriteComment()">comment</button>
            </div>

            <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree"
              aria-expanded="false" aria-controls="collapseThree" (click)="getComment()">View All Comments<i
                class="fa fa-comments-o" aria-hidden="true"></i></button>

            <div id="collapseThree" class="collapse" aria-labelledby="headingthree" data-parent="#accordionExample">
              <div class="card-body">
                <ul class="list-group" style="background-color: grey">
                  <li class="list-group-item" *ngFor="let comment of commentArray" style="background-color: grey">

                    <div class="card">
                      <div class="card-body">
                        <blockquote class="blockquote mb-0">
                          {{comment.comment}}
                          <footer class="blockquote-footer">{{comment.commenter}}<cite title="Source Title">
                              {{comment.createdOn}}</cite></footer>
                        </blockquote>
                      </div>
                    </div>
                  </li>

                </ul>
              </div>
            </div>
          </div>

        </div>

        <div class="watcherList" *ngIf="watcherlistToken == true">

          <p class="ml-3 mt-1"><b><u>Watcher Of the Issue:-</u></b></p>

          <ul class="list-group mt-2">
            <li class="list-group-item" *ngFor="let watcher of watcherList">{{watcher.watcherEmail}}</li>
          </ul>

        </div>
      </div>
    </div>
    
  </div>

  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Comments</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div *ngIf="commentFlag == true">
            <ul class="list-group" style="background-color: grey">
              <li class="list-group-item" *ngFor="let comment of commentArray" style="background-color: grey">

                <div class="card">  
                  <div class="card-body">
                    <blockquote class="blockquote mb-0">
                      {{comment.comment}}
                      <footer class="blockquote-footer">{{comment.commenter}}<cite title="Source Title">
                          {{comment.createdOn}}</cite></footer>
                    </blockquote>
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <div *ngIf="commentFlag == false">
            No Comment Present
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">ok</button>
        </div>
      </div>
    </div>
  </div>
</div>